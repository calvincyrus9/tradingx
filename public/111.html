<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPTV Email Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#2563EB',
                        accent: '#1D4ED8',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
        }
        .template-card {
            transition: all 0.3s ease;
        }
        .template-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.4);
        }
        .output-box {
            min-height: 400px;
            max-height: 500px;
            overflow-y: auto;
            white-space: normal;
            background: #f8fafc;
        }
        .btn {
            transition: all 0.2s ease;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .copy-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #10B981;
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 1000;
        }
        @media (max-width: 768px) {
            .flex-wrap {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="py-8">
    <div class="copy-notification" id="copyNotification">
        <i class="fas fa-check-circle mr-2"></i> <span id="notificationText">Email content copied to clipboard!</span>
    </div>
    
    <div class="container mx-auto px-4">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-800 mb-3">IPTV Email Generator</h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">Create professional emails for trials, renewals, and customer support with dynamic content</p>
        </header>

        <main class="bg-white rounded-xl shadow-xl p-6 md:p-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Generate Your Email</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Select Website</label>
                            <select id="website" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                                <option value="">Choose a website</option>
                                <option value="XtreamCube.com">XtreamCube.com</option>
                                <option value="8KTV.tv">8ktv.tv</option>
                                <option value="TVToohigh.com">tvtoohigh.com</option>
                                <option value="RediXel.com">redixel.com</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Select Template</label>
                            <select id="template" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                                <option value="">Choose a template</option>
                                <option value="trial">Free Trial</option>
                                <option value="renew-request">Renew Request</option>
                                <option value="renew-confirm">Renew Confirm</option>
                                <option value="trial-spam">Trial Spam</option>
                                <option value="quick-renew">Quick Renew</option>
                                <option value="quick-renew-after-trial">Quick Renew After Trial</option>
                            </select>
                        </div>
                        
                        <div id="dynamicFields" class="space-y-4 p-4 bg-gray-50 rounded-lg">
                            <div id="m3uField" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">M3U URL</label>
                                <input type="text" id="m3uUrl" placeholder="Enter M3U URL" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                            </div>

                            <div id="renewConfirmField" class="hidden space-y-4">
                                <div>
                                    <label for="usernames" class="block text-sm font-medium text-gray-700 mb-2">Username(s) (one per line)</label>
                                    <textarea id="usernames" rows="3" placeholder="user123&#10;user456" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"></textarea>
                                </div>
                                <div>
    <label for="expirationPlan" class="block text-sm font-medium text-gray-700 mb-2">Select Renewal Plan</label>
    <select id="expirationPlan" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
        <option value="1">1 Month</option>
        <option value="3">3 Months</option>
        <option value="6">6 Months</option>
        <option value="12">12 Months</option>
    </select>
</div>
                                <div>
                                    <label class="flex items-center cursor-pointer">
                                        <input type="checkbox" id="includeMultiDeviceNote" class="h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary">
                                        <span class="ml-2 text-sm text-gray-700">Include note for additional devices</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div id="paymentField" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Payment Option</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="paymentOption" value="1" class="h-4 w-4 text-primary"><span class="ml-2">1 Month</span></label>
                                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="paymentOption" value="3" class="h-4 w-4 text-primary"><span class="ml-2">3 Months</span></label>
                                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="paymentOption" value="6" class="h-4 w-4 text-primary"><span class="ml-2">6 Months</span></label>
                                    <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="paymentOption" value="12" class="h-4 w-4 text-primary"><span class="ml-2">12 Months</span></label>
                                </div>
                                
                                <div id="linkTypeField" class="mt-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Link Type</label>
                                    <div class="grid grid-cols-2 gap-3">
                                        <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="linkTypeOption" value="main" class="h-4 w-4 text-primary" checked><span class="ml-2">Main Links</span></label>
                                        <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"><input type="radio" name="linkTypeOption" value="cap" class="h-4 w-4 text-primary"><span class="ml-2">Cap Links</span></label>
                                    </div>
                                </div>
                                
                                <div class="mt-4 grid grid-cols-2 gap-3 hidden" id="paymentLinks">
                                    <div id="mainPaymentLinks">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">1 Month Main Link</label><input type="text" id="main_link1" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">3 Months Main Link</label><input type="text" id="main_link3" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">6 Months Main Link</label><input type="text" id="main_link6" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">12 Months Main Link</label><input type="text" id="main_link12" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                        </div>
                                    </div>
                                    <div id="capPaymentLinks" class="hidden">
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">1 Month Cap Link</label><input type="text" id="cap_link1" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">3 Months Cap Link</label><input type="text" id="cap_link3" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">6 Months Cap Link</label><input type="text" id="cap_link6" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                            <div><label class="block text-sm font-medium text-gray-700 mb-2">12 Months Cap Link</label><input type="text" id="cap_link12" placeholder="Payment link" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-sm"></div>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" id="toggleLinks" class="mt-3 text-sm text-primary hover:text-secondary flex items-center"><i class="fas fa-plus-circle mr-1"></i> Add custom payment links</button>
                            </div>
                            
                            <div id="deviceField" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Number of Devices</label>
                                <select id="deviceCount" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                                    <option value="1">1 Device</option><option value="2">2 Devices</option><option value="3">3 Devices</option><option value="4">4 Devices</option><option value="5">5 Devices</option>
                                </select>
                            </div>
                        </div>
                        
                        <button id="generateBtn" class="w-full bg-primary hover:bg-secondary text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center"><i class="fas fa-envelope mr-2"></i> Generate Email</button>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-800">Generated Email</h2>
                        <div class="flex space-x-2">
                            <button id="copySubjectBtn" class="bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-3 rounded-lg flex items-center text-sm"><i class="fas fa-copy mr-1"></i> Copy Subject</button>
                            <button id="copyBodyBtn" class="bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-3 rounded-lg flex items-center text-sm"><i class="fas fa-copy mr-1"></i> Copy Body</button>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Subject Line</label>
                        <div id="subjectOutput" class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 font-medium"></div>
                    </div>
                    
                    <div class="output-box border border-gray-300 rounded-lg p-4 md:p-6" id="outputContent">
                        <p class="text-gray-500 text-center py-10">Your generated email will appear here</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // DOM Elements
        const websiteSelect = document.getElementById('website');
        const templateSelect = document.getElementById('template');
        const dynamicFields = document.getElementById('dynamicFields');
        const m3uField = document.getElementById('m3uField');
        const paymentField = document.getElementById('paymentField');
        const paymentLinks = document.getElementById('paymentLinks');
        const toggleLinks = document.getElementById('toggleLinks');
        const deviceField = document.getElementById('deviceField');
        const generateBtn = document.getElementById('generateBtn');
        const subjectOutput = document.getElementById('subjectOutput');
        const outputContent = document.getElementById('outputContent');
        const copySubjectBtn = document.getElementById('copySubjectBtn');
        const copyBodyBtn = document.getElementById('copyBodyBtn');
        const deviceCount = document.getElementById('deviceCount');
        const copyNotification = document.getElementById('copyNotification');
        const notificationText = document.getElementById('notificationText');
        const linkTypeRadios = document.querySelectorAll('input[name="linkTypeOption"]');
        const mainPaymentLinks = document.getElementById('mainPaymentLinks');
        const capPaymentLinks = document.getElementById('capPaymentLinks');
        const renewConfirmField = document.getElementById('renewConfirmField');

        // --- DATA ---
        const renewalLinkPaths = {
            'XtreamCube.com': 'renew',
            '8KTV.tv': '8ktv-renew-your-account',
            'TVToohigh.com': 'renewal-request',
            'RediXel.com': 'renewal.html'
        };
        
        // **IMPORTANT**: Edit these placeholder links with your actual payment URLs
        const paymentLinksData = {
            'XtreamCube.com': {
                main: {'1': 'https://mjstore.sell.app/product/xc-pass-001',
                       '3': 'https://mjstore.sell.app/product/xc-pass3', 
                       '6': 'https://mjstore.sell.app/product/xc-pass6', 
                       '12': 'https://mjstore.sell.app/product/xc-pass12'},
                cap: {'1': 'https://newerazone.sell.app/product/xc-pass-1',
                      '3': 'https://newerazone.sell.app/product/xc-pass-3',
                      '6': 'https://newerazone.sell.app/product/xc-pass-6', 
                      '12': 'https://newerazone.sell.app/product/xc-pass-12'}
            },
            '8KTV.tv': {
                main: {'1': 'https://mjstore.sell.app/product/8k-pass1',
                       '3': 'https://mjstore.sell.app/product/8k-pass3',
                       '6': 'https://mjstore.sell.app/product/8k-pass6',
                       '12': 'https://mjstore.sell.app/product/8k-pass12'},
                cap: {'1': 'https://newerazone.sell.app/product/8k-pass-1',
                      '3': 'https://newerazone.sell.app/product/8k-pass-3',
                      '6': 'https://newerazone.sell.app/product/8k-pass-6',
                      '12': 'https://newerazone.sell.app/product/8k-pass-12'}
            },
            'TVToohigh.com': {
                main: {'1': '#', '3': '#', '6': '#', '12': '#'},
                cap: {'1': '#', '3': '#', '6': '#', '12': '#'}
            },
            'RediXel.com': {
                main: {'1': '#', '3': '#', '6': '#', '12': '#'},
                cap: {'1': '#', '3': '#', '6': '#', '12': '#'}
            }
        };

        function getWebsiteName(fullWebsite) {
            return fullWebsite ? fullWebsite.split('.')[0] : '';
        }

        toggleLinks.addEventListener('click', function() {
            paymentLinks.classList.toggle('hidden');
            this.innerHTML = paymentLinks.classList.contains('hidden') ? '<i class="fas fa-plus-circle mr-1"></i> Add custom payment links' : '<i class="fas fa-minus-circle mr-1"></i> Hide payment links';
        });

        linkTypeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'main') {
                    mainPaymentLinks.classList.remove('hidden');
                    capPaymentLinks.classList.add('hidden');
                } else {
                    mainPaymentLinks.classList.add('hidden');
                    capPaymentLinks.classList.remove('hidden');
                }
            });
        });

        templateSelect.addEventListener('change', function() {
            const templateType = this.value;
            
            dynamicFields.classList.add('hidden');
            m3uField.classList.add('hidden');
            paymentField.classList.add('hidden');
            deviceField.classList.add('hidden');
            renewConfirmField.classList.add('hidden');
            
            if (templateType === 'trial') {
                dynamicFields.classList.remove('hidden');
                m3uField.classList.remove('hidden');
            } else if (templateType === 'renew-request') {
                dynamicFields.classList.remove('hidden');
                paymentField.classList.remove('hidden');
                deviceField.classList.remove('hidden');
            } else if (templateType === 'renew-confirm') {
                dynamicFields.classList.remove('hidden');
                renewConfirmField.classList.remove('hidden');
            }
        });

        generateBtn.addEventListener('click', function() {
            const website = websiteSelect.value;
            const templateType = templateSelect.value;
            const websiteName = getWebsiteName(website);

            if (!website || !templateType) {
                alert('Please select both a website and a template type.');
                return;
            }

            let emailContent = '';
            let subject = '';

            if (templateType === 'trial') {
                const m3uUrl = document.getElementById('m3uUrl').value;
                if (!m3uUrl) { alert('Please enter an M3U URL.'); return; }
                const urlObj = new URL(m3uUrl);
                const username = urlObj.searchParams.get('username');
                const password = urlObj.searchParams.get('password');
                const baseUrl = `${urlObj.protocol}//${urlObj.host}`;
                const renewalPath = renewalLinkPaths[website] || 'my-account';
                
                subject = `ðŸŽ‰ Welcome to Your 24-Hour Free Trial with ${websiteName}! ðŸŽ‰`;
                emailContent = `Hi,<br><br>Welcome to ${websiteName}! ðŸš€ Your 24-hour trial is ready.<br><br>If youâ€™re satisfied and want to continue, you can submit your renewal request here:<br>ðŸ‘‰ðŸ”— <a href="https://www.${website}/${renewalPath}/" target="_blank" style="color:#3B82F6; text-decoration:underline;">Renew Your Account Here</a><br><br><b>ðŸ”‘ Login Details:</b><br>ðŸ‘¤ Username: ${username}<br>ðŸ”’ Password: ${password}<br>ðŸ”— URL: ${baseUrl}<br><br>ðŸ“‚ M3U Link: ${m3uUrl}<br><br>... (rest of trial email) ...`;

            } else if (templateType === 'renew-request') {
                const selectedPayment = document.querySelector('input[name="paymentOption"]:checked');
                if (!selectedPayment) { alert('Please select a payment option.'); return; }

                const months = selectedPayment.value;
                const devices = deviceCount.value;
                const linkType = document.querySelector('input[name="linkTypeOption"]:checked').value;
                
                const customLink = document.getElementById(`${linkType}_link${months}`).value;
                const defaultLink = paymentLinksData[website]?.[linkType]?.[months] || '#';
                const finalLink = customLink || defaultLink;
                
                const paymentLinkHTML = `<a href="${finalLink}" target="_blank" style="color:#16A34A; text-decoration:none; font-weight:600;"> ${months} Months account</a><br>`;

                subject = `âœ… Your ${websiteName} Renewal Request - Pass ${months}`;
                emailContent = `Hello,<br><br>Thank you for your renewal request! To complete your ${months} months subscription renewal, please use the link below:<br><br>âœ… ${months} Months Renewal: ${paymentLinkHTML}
                <br>If you encounter any issues or have questions, feel free to reach out to us via live chat at: ${website}
                <br>Thank you for continuing to choose XtreamCube. 
                <br>Enjoy your entertainment!`;
                if (devices > 1) {
                    emailContent += `<br><br>For multiple devices, please adjust the quantity at checkout to receive a 15% discount. Upon receipt of payment, we will renew your initial account and provide separate logins for your additional accounts.`;
                }
                emailContent += `<br><br>Best regards,<br>The ${websiteName} Team`;

            } else if (templateType === 'renew-confirm') {
    const usernamesInput = document.getElementById('usernames').value;
    const planMonths = parseInt(document.getElementById('expirationPlan').value, 10);
    const includeNote = document.getElementById('includeMultiDeviceNote').checked;

    if (!usernamesInput) {
        alert('Please enter at least one username.');
        return;
    }
    
    // Calculate the new expiration date
    const today = new Date();
    today.setMonth(today.getMonth() + planMonths);

    // Format the date to YYYY-MM-DD
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed
    const day = String(today.getDate()).padStart(2, '0');
    const calculatedExpirationDate = `${year}-${month}-${day}`;

                const usernames = usernamesInput.split('\n').filter(u => u.trim() !== '');
                let userDetailsHTML = usernames.map(u => `ðŸ‘¤ Username: ${u.trim()}`).join('<br>');
                
                subject = `âœ…ðŸŽ‰ Account Renewal Confirmation - ${websiteName}!`;
               emailContent = `Hello,<br>Thank you for renewing your account with ${websiteName}!<br><br>Here are your updated details:<br>${userDetailsHTML}<br>ðŸ“… New Expiration Date: ${calculatedExpirationDate}
               <br> Weâ€™re excited to have you continue streaming with us! <br> If you need anything, like troubleshooting, device setup help or just have a question, you can: <br>
               Reply to this email<br>
               Chat with us at : https://www.${website}<br>
               Message us on WhatsApp at +1 765-244-5905<br>
               `;
                
                if (includeNote) {
                    emailContent += `<br><br>Your additional device connections have also been renewed.`;
                }
                
                emailContent += `<br><br>Happy Streaming! ðŸ˜Š<br>âœ¨ The ${websiteName} Team âœ¨`;
            
            } else if (templateType === 'quick-renew') {
                const renewalPath = renewalLinkPaths[website] || 'my-account';
                subject = `Continue Your IPTV Experience - ${websiteName}`;
                emailContent = `Hello,<br><br>When you're ready, you can:<br><br>1. Renew your subscription: <a href="https://www.${website}/${renewalPath}/" target="_blank" style="color:#3B82F6; text-decoration:underline;">Renew your account</a><br><br>... (rest of quick-renew email) ...`;
            }
            
            subjectOutput.textContent = subject;
            outputContent.innerHTML = emailContent;
        });

        function copyContent(isHtml) {
            const htmlContent = outputContent.innerHTML;
            const textContent = outputContent.innerText;
            if (!htmlContent || textContent.includes('Your generated email will appear here')) {
                alert('Please generate an email first.');
                return;
            }
            navigator.clipboard.write([
                new ClipboardItem({
                    'text/html': new Blob([htmlContent], { type: 'text/html' }),
                    'text/plain': new Blob([textContent], { type: 'text/plain' })
                })
            ]).then(() => {
                notificationText.textContent = 'Formatted email body copied!';
                copyNotification.style.display = 'block';
                setTimeout(() => { copyNotification.style.display = 'none'; }, 3000);
            }).catch(err => console.error('Could not copy rich text: ', err));
        }

        copySubjectBtn.addEventListener('click', () => {
            if (!subjectOutput.textContent) { alert('Please generate an email first.'); return; }
            navigator.clipboard.writeText(subjectOutput.textContent).then(() => {
                notificationText.textContent = 'Subject copied to clipboard!';
                copyNotification.style.display = 'block';
                setTimeout(() => { copyNotification.style.display = 'none'; }, 3000);
            });
        });

        copyBodyBtn.addEventListener('click', copyContent);
    });
    </script>
</body>
</html>
